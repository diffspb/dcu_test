# üöó Vehicle Body Control Unit (BCU) ‚Äî Smart Door Controller

–ü—Ä–æ–µ–∫—Ç –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≠–ë–£) –∫—É–∑–æ–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è. –í —Ñ–æ–∫—É—Å–µ ‚Äî **–¥–≤–µ—Ä–Ω–æ–π –º–æ–¥—É–ª—å**, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–º–∫–∞–º–∏, –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.

### üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ü–∏—Ñ—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–µ—Ä—å—é –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **LLM –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö**: –æ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –¥–æ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **SIL/MIL/HIL —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
- –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å STM32 + Raspberry Pi
- –û–±—É—á–µ–Ω–∏–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è **–Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π** (ONNX)

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
+------------------------+          +------------------------+
| Statechart Model       |<-------->| LLM-Generated Diagrams |
+------------------------+          +------------------------+
          |                                 |
          v                                 v
+------------------------+       +----------------------------+
| Python Simulation (MIL)|       | STM32 Firmware (C/C++)     |
+------------------------+       +----------------------------+
          |                                 |
          v                                 v
+------------------------+       +----------------------------+
| RPi-based HIL Testing  |<----->| CAN Bus / GPIO Interaction |
+------------------------+       +----------------------------+
```

---

## üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: PlantUML (Statechart), Python FSM
- **–ê–ø–ø–∞—Ä–∞—Ç**: STM32, Raspberry Pi, CAN-—à–∏–Ω–∞, GPIO
- **HIL**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é Python + RPi + dfu-util + OpenOCD
- **CI/CD**: GitHub Actions (–±–∏–ª–¥—ã, —Ç–µ—Å—Ç—ã, –∞–≤—Ç–æ–∑–∞–ª–∏–≤–∫–∞)
- **AI/LLM**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Ç–µ—Å—Ç–æ–≤
- **–ù–µ–π—Ä–æ—Å–µ—Ç—å**: ONNX-–º–æ–¥–µ–ª—å, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üß™ –¢–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –¢–∏–ø        | –£—Ä–æ–≤–µ–Ω—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|---------|----------|
| MIL        | Python  | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ FSM |
| SIL        | C/Python| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –∏ –ª–æ–≥–∏–∫–∏ |
| HIL        | STM32   | –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ –∂–∏–≤–æ–º –∂–µ–ª–µ–∑–µ |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
vehicle-bcu/
‚îú‚îÄ‚îÄ docs/           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
‚îú‚îÄ‚îÄ models/         # Statecharts –∏ ONNX-–º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ src/            # –ö–æ–¥ –ª–æ–≥–∏–∫–∏ –∏ HAL
‚îú‚îÄ‚îÄ hil/            # –°–∫—Ä–∏–ø—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å—Ç–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ tests/          # MIL/SIL/HIL —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ ci/             # –ü–∞–π–ø–ª–∞–π–Ω—ã CI/CD
‚îú‚îÄ‚îÄ Makefile        # –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îî‚îÄ‚îÄ README.md
```

---

## üîÑ –ó–∞–¥–∞—á–∏ –∏ —ç—Ç–∞–ø—ã

- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –º–æ–¥–µ–ª–µ–π
- üõ†Ô∏è –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–≤–µ—Ä–∏ (FSM)
- üîÅ –ò–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (MIL/SIL)
- üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ STM32 –∏ HIL —Ç–µ—Å—Ç—ã
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ (ONNX)
- ‚öôÔ∏è CI/CD –ø–∞–π–ø–ª–∞–π–Ω —Å –∞–≤—Ç–æ–∑–∞–ª–∏–≤–∫–æ–π –ø—Ä–æ—à–∏–≤–æ–∫

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏ FSM-–º–æ–¥–µ–ª–∏
make sim

# –ü—Ä–æ–≥–æ–Ω —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤ –º–æ–¥–µ–ª–∏
make test

# –ó–∞–ª–∏–≤–∫–∞ –ø—Ä–æ—à–∏–≤–∫–∏ –Ω–∞ STM32 (–∑–∞–≥–ª—É—à–∫–∞)
make flash

# –ó–∞–ø—É—Å–∫ HIL-—Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ Raspberry Pi
make hil

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ PlantUML
make doc
```

---

## üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM

–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –≤—Å–µ —ç—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ LLM:
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π, –ø—Ä–æ—à–∏–≤–æ–∫, –ø–∞–π–ø–ª–∞–π–Ω–æ–≤
- –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ –¥–ª—è –ª—é–±—ã—Ö —Ü–µ–ª–µ–π.
